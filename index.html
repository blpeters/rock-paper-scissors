<script>

//Play Game upon loading.
game();

// returns the computer's randomized choice of either Rock, Paper, or Scissors as a string.
function computerPlay() {
    let choice = Math.random() * 3;
    if(choice < 1) {
        return "Rock";
    } else if(choice < 2) {
        return "Paper";
    } else return "Scissors";
}

// Game logic for one round that compares user input to computer generated choice and determines winner by returning a string describing win/lose.
function playRound(playerSelection, computerSelection) {
    playerSelection = playerSelection.toLowerCase();
    console.log(playerSelection);
    switch(playerSelection) {
        case "rock":
            if(computerSelection === "Scissors") {
                return 2;
            } else if(computerSelection === "Paper"){
                return 1;
            } else {
                return 0;
            }
            break;
        case "paper":
            if(computerSelection === "Rock") {
                return 2;
            } else if(computerSelection === "Scissors"){
                return 1;
            } else {
                return 0;
            }
            break;
        case "scissors":
            if(computerSelection === "Paper") {
                return 2;
            } else if(computerSelection === "Rock"){
                return 1;
            } else {
                return 0;
            }
            break;
        default:
            return -1;
    }
}

//Plays 5 rounds, keep a rolling score tally and reporting a final winner.
function game() {

    let playerScore = 0;
    let computerScore = 0;
    
    //Loop through rounds of play until a player gets to 5.
    while(playerScore < 5 && computerScore < 5) {

        //Ask player for input at start of round
        const playerSelection = prompt("Rock, Paper, or Scissors?");
        //get a new randomized computer selection.
        const computerSelection = computerPlay();

        //Run 1 round of the game simulation
        let roundResult = playRound(playerSelection, computerSelection);
        if(roundResult === 2) {
            playerScore++;
            console.log("Win");
        } else if(roundResult === 1) {
            computerScore++;
            console.log("Lose");
        } else if(roundResult === 0) {
            console.log("Tie");
        } else {
            console.log("Invalid choice. Choose Rock, Paper, or Scissors.");
            continue;
        }

        //At the end of the current round, gives a score update
        console.log(`Your Score: ${playerScore} \nComputer Score: ${computerScore}\n`);
    }

    //Print the winner and final score
    if(computerScore === 5) {
        console.log("The computer wins!");
    } else {
        console.log("You Win!!!!");
    }
    console.log(`FINAL SCORE\nYou: ${playerScore}\nComputer: ${computerScore}`);

}


// POSSIBLE THEME VIA KARNEN: TROPICAL PARADISE. OPTIONAL PINEAPPLES. ROCK IS COCONUT, PAPER IS BANANA LEAF AND SCISSORS IS A CRAB OBVI. 
// STRETCH GOAL: PATAGONIA THEME. THE PLACE NOT DA BRAND.


</script>